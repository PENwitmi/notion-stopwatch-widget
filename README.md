# Notion Stopwatch Widget

Notionページに埋め込み可能なスタイリッシュなストップウォッチウィジェットです。

## 🎯 機能

- **時間計測**: 開始/停止/リセット機能（10ms精度）
- **ラップタイム**: 最新5件まで記録・表示
- **計測履歴**: セッション内で最新5件まで保存
- **レスポンシブデザイン**: デスクトップ・モバイル両対応
- **スタイリッシュなUI**: Apple Watch風のシンプルで洗練されたデザイン

## 📋 仕様

- **推奨サイズ**: 幅700px × 高さ250px
- **ファイルサイズ**: 約12KB（単一HTMLファイル）
- **外部依存**: なし（CDN不使用）
- **対応ブラウザ**: Chrome 90+, Firefox 90+, Safari 14+, Edge 90+

## 🚀 Notionへの埋め込み方法

### 1. GitHub Pagesでホスティング

1. このリポジトリをForkまたはCloneする
2. GitHub Pagesを有効化
   - Settings → Pages → Source を「Deploy from a branch」に設定
   - Branch を「main」に設定
   - Save をクリック
3. 公開URLを確認（例: `https://[username].github.io/[repository-name]/`）

### 2. Notionに埋め込む

1. Notionページを開く
2. `/embed` コマンドを入力
3. GitHub PagesのURLを貼り付け
4. **重要**: 埋め込みサイズの設定
   - **推奨サイズ**: 幅650px以下、高さ550px
   - **モバイル対応**: 幅を小さめに設定することで、モバイルでも適切に表示されます
   - **フルワイド非推奨**: モバイルで横スクロールが発生する可能性があります

### 3. その他のホスティング方法

- **Netlify**: ドラッグ&ドロップでデプロイ可能
- **Vercel**: GitHubと連携して自動デプロイ
- **自社サーバー**: HTTPS環境にindex.htmlを配置

## 💡 使い方

### 基本操作

1. **Start**: 計測を開始
2. **Stop**: 計測を一時停止
3. **Lap**: ラップタイムを記録（計測中のみ）
4. **Reset**: 時間をリセット（停止中のみ）

### 計測履歴

- 停止→リセットで計測完了時に自動保存
- ラップ数も一緒に記録
- ブラウザをリロードするとクリア

## 🔧 高度な機能

### デバッグモード

Notion埋め込み時の問題を診断するためのデバッグモードが利用できます：

- **有効化方法**: URLに `?debug=1` を追加
- **例**: `https://[username].github.io/[repository-name]/?debug=1`
- **表示情報**:
  - Environment: 検出された環境（normal/notion-mobile）
  - Container: コンテナの実際の幅
  - Window: ウィンドウ幅
  - Shrink Ratio: 縮小率
  - DPR: デバイスピクセル比

### Notion縮小対策

モバイルでNotionページを見た際に、埋め込みが縮小される問題に対応：

- **自動検出**: 縮小環境を自動的に検出
- **スタイル補正**: フォントサイズやボタンサイズを1.4〜1.5倍に拡大
- **全体拡大**: transform: scale(1.15)で追加補正
- **視認性確保**: 縮小されても実用的なサイズを維持

## 🎨 デザインカスタマイズ

CSSカラー変数を変更することで、配色をカスタマイズできます：

```css
/* メインカラー */
background-color: #3182ce; /* ボタンの色 */
background-color: #1a365d; /* データ表示エリアの背景 */
color: #2d3748; /* テキストカラー */
background-color: #f7fafc; /* 背景色 */
```

## 📱 レスポンシブ対応

- 600px以下の画面幅で自動的に縦型レイアウトに切り替わります
- モバイルでも操作しやすいボタンサイズを確保

## ⚡ パフォーマンス

- 10ms精度の高精度タイマー
- 軽量な単一HTMLファイル（12KB）
- 外部リソース不要で高速ロード

## 📄 ライセンス

MITライセンス

## 🤝 貢献

Issues、Pull Requestsは歓迎です！

---

**作成日**: 2025年6月17日