# Notion埋め込み用ストップウォッチウィジェット 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
**Notion Stopwatch Widget**

### 1.2 目的
Notionページに埋め込み可能なストップウォッチウィジェットを開発し、時間計測、ラップタイム記録、計測履歴管理を提供する。

### 1.3 対象ユーザー
- Notionを利用している個人ユーザー
- チーム・組織でのタスク管理、時間管理を行うユーザー
- 作業時間、会議時間、学習時間等の計測ニーズがあるユーザー

### 1.4 利用シーン
- 個人の作業時間計測
- チーム会議の時間管理
- 学習・集中時間の記録
- プロジェクト作業時間の記録

## 2. 機能要件

### 2.1 基本機能

#### 2.1.1 時間計測機能
- **開始**: ストップウォッチを開始する
- **停止**: 計測中のストップウォッチを一時停止する
- **リセット**: 計測時間を00:00.00に戻す
- **時間表示**: MM:SS.mm形式での経過時間表示（10ms精度）

#### 2.1.2 ラップタイム機能
- **ラップ記録**: 計測中に中間時間を記録
- **ラップ表示**: 記録したラップタイムを時系列でリスト表示
- **表示件数**: 最新5件まで表示

#### 2.1.3 計測履歴機能
- **履歴記録**: 計測完了時（停止→リセット時）に最終時間を履歴に保存
- **履歴表示**: 過去の計測結果をリスト表示
- **表示内容**: 最終時間、ラップ数
- **表示件数**: 最新5件まで表示

### 2.2 データ管理
- **保存期間**: セッション内のみ（ブラウザリロード時にデータクリア）
- **保存対象**: 現在の計測時間、ラップタイムリスト、計測履歴
- **データ永続化**: 不要

## 3. 非機能要件

### 3.1 性能要件
- **表示速度**: 初期ロード時間3秒以内
- **操作応答性**: ボタンクリック後100ms以内に反応
- **時間精度**: 10ms単位での正確な計測

### 3.2 可用性要件
- **ブラウザ対応**: モダンブラウザ（Chrome, Firefox, Safari, Edge）
- **稼働率**: Webホスティングサービスの標準SLA

### 3.3 セキュリティ要件
- **通信**: HTTPS必須（Notion埋め込み要件）
- **データ**: 個人情報の取り扱いなし

## 4. UI/UX要件

### 4.1 レイアウト設計

#### 4.1.1 全体構成
- **方向性**: 横長レイアウト
- **推奨サイズ**: 幅700px × 高さ250px
- **レスポンシブ**: Notion標準ページ幅に最適化

#### 4.1.2 エリア構成
```
┌─────────────────────────┬───────────────────────┐
│  メイン表示エリア        │  データ表示エリア      │
│  - 時間表示             │  - ラップタイム (上)   │
│  - 操作ボタン           │  - 計測履歴 (下)      │
└─────────────────────────┴───────────────────────┘
```

#### 4.1.3 表示比率
- **メイン表示エリア**: 60%
- **データ表示エリア**: 40%

### 4.2 デザイン仕様

#### 4.2.1 デザインテイスト
- **コンセプト**: スタイリッシュ × シンプル
- **参考**: 高級時計、Apple Watch UI
- **印象**: プロフェッショナル、洗練、視認性

#### 4.2.2 カラーパレット
- **ベースカラー**: 寒色系（青系）を中心とした配色
- **メインカラー**: ディープブルー (#1a365d)
- **アクセントカラー**: ライトブルー (#3182ce)
- **テキストカラー**: ダークグレー (#2d3748)
- **背景色**: ライトグレー (#f7fafc)

#### 4.2.3 タイポグラフィ
- **時間表示**: モノスペースフォント、大サイズ（32px）
- **ボタンテキスト**: サンセリフフォント、中サイズ（16px）
- **リストテキスト**: サンセリフフォント、小サイズ（14px）

### 4.3 インタラクション設計

#### 4.3.1 ボタン仕様
- **サイズ**: 最小48px × 48px（モバイルタッチ対応）
- **間隔**: ボタン間に12px以上のマージン
- **フィードバック**: ホバー、アクティブ状態の視覚的変化

#### 4.3.2 状態表示
- **開始前**: [Start] [Reset] ボタン表示
- **計測中**: [Stop] [Lap] [Reset] ボタン表示  
- **停止中**: [Start] [Reset] ボタン表示

## 5. 技術要件

### 5.1 開発技術
- **フロントエンド**: HTML5, CSS3, JavaScript (Vanilla JS)
- **ホスティング**: GitHub Pages
- **バージョン管理**: Git, GitHub

### 5.2 ブラウザ要件
- **対象ブラウザ**: 
  - Chrome 90+
  - Firefox 90+
  - Safari 14+
  - Edge 90+

### 5.3 パフォーマンス
- **ファイルサイズ**: HTML+CSS+JS合計で100KB以下
- **外部依存**: なし（CDN使用不可）

## 6. 制約事項

### 6.1 Notion埋め込み制約
- **iframe対応**: 必須
- **HTTPS通信**: 必須
- **外部リソース**: 制限あり
- **ポップアップ**: 使用不可

### 6.2 技術制約
- **JavaScript**: ES6以降の機能使用可
- **CSS**: モダンCSS機能使用可
- **外部ライブラリ**: 使用しない

### 6.3 運用制約
- **メンテナンス**: 最小限
- **コスト**: 無料での運用

## 7. 成果物

### 7.1 開発成果物
- **メインファイル**: index.html (HTML, CSS, JavaScript統合)
- **README**: 使用方法、設定方法の説明
- **GitHubリポジトリ**: ソースコード管理

### 7.2 ドキュメント
- **使用者向け**: Notion埋め込み手順書
- **開発者向け**: コードドキュメント

## 8. 受け入れ基準

### 8.1 機能テスト
- [ ] 開始/停止/リセット機能が正常動作する
- [ ] ラップタイム記録・表示が正常動作する
- [ ] 計測履歴の記録・表示が正常動作する
- [ ] 時間表示が10ms精度で正確である

### 8.2 UI/UXテスト
- [ ] 指定デザインに準拠している
- [ ] モバイルでボタンが押しやすい
- [ ] Notion埋め込み時に適切なサイズで表示される
- [ ] レスポンシブ対応が適切である

### 8.3 技術テスト
- [ ] 対象ブラウザで正常動作する
- [ ] HTTPS環境で動作する
- [ ] iframe内で正常動作する
- [ ] パフォーマンス要件を満たす

### 8.4 運用テスト
- [ ] GitHub Pagesでの公開が正常である
- [ ] NotionへのURL埋め込みが正常である
- [ ] セッション内でのデータ管理が正常である

---

**文書バージョン**: 1.0  
**作成日**: 2025年6月17日  
**最終更新日**: 2025年6月17日